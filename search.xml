<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>echarts区域的点击事件</title>
    <url>/2020/04/27/echarts%E5%8C%BA%E5%9F%9F%E7%9A%84%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<p><strong>通常在使用Echarts画图之后会碰到一个需求，通过点击生成后图形具体某一项来传递相应的参数然后来进行新的操作，如下图，需求是点击图一某一点时，得到数据生成图二的图标（电力行业的相位图）</strong><br> <img src="https://img-blog.csdnimg.cn/20191022162040727.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>当我遇到这个需求第一就想到了echarts的点击事件，然后就在代码上进行尝试</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">myChart.on(<span class="string">'click'</span>,function(params)&#123;</span><br><span class="line">    console.log(params);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>于是就发现了下面的问题，只有点击圆点的地方才会触发click事件（爱是一道光，绿的让人发慌。）这种方法当然不适用我的需求。<br><img src="https://img-blog.csdnimg.cn/20191022162734961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>接下来从网上找到第二种方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">myChart.getZr().on(<span class="string">"click"</span>, function(params) &#123;</span><br><span class="line">		<span class="keyword">const</span> pointInPixel = [params.offsetX, params.offsetY];</span><br><span class="line">		  <span class="keyword">if</span> (myChart.containPixel(<span class="string">'grid'</span>,pointInPixel)) &#123;</span><br><span class="line">			 let index = myChart.convertFromPixel(&#123;seriesIndex:<span class="number">0</span>&#125;,pointInPixel)[<span class="number">0</span>];</span><br><span class="line">			 ...你的代码...</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br></pre></td></tr></table></figure>
<p>上面代码是对整个图表的点击事件进行监听，通过点的坐标来找到数组下标，果然好用，这次点击图表中的任何地方都可以触发事件了，但是这种情况貌似只适合xAxis的type是category的，我的图表xAxis的type是time，得到的index是个时间戳，紧接着我将时间戳转化为date，而且时间精确程度太高，就是说那么大一片区域，我想点固定的12:00:00那一刻，可能我会点到12:00:00:259。这样就会产生点好几次才会点中一次的问题，使用效果很不好。</p>
<p><strong>重点来了</strong><br>这时候我有了新的思路，就是图中的tooltip，每次都去找鼠标前和或鼠标后的地方，我要是能给这个tooltip加上onclick，我的事情不就解决了吗，于是我试了一下。可以在这里体验一下  链接：  <a href="https://gallery.echartsjs.com/editor.html?c=x-qhA_u9yY" target="_blank" rel="noopener"> https://gallery.echartsjs.com/editor.html?c=x-qhA_u9yY</a><br><img src="https://img-blog.csdnimg.cn/20191022165814827.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">tooltip: &#123;</span><br><span class="line">       trigger: <span class="string">'axis'</span>,</span><br><span class="line">       label: &#123;</span><br><span class="line">           show: <span class="keyword">true</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   改为下面</span><br><span class="line">    tooltip: &#123;</span><br><span class="line">       trigger: <span class="string">'axis'</span>,</span><br><span class="line">       formatter: function(e) &#123;</span><br><span class="line">           console.log(e);</span><br><span class="line">       &#125;,</span><br><span class="line">       triggerOn: <span class="string">'click'</span></span><br><span class="line"></span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<p>   <img src="https://img-blog.csdnimg.cn/20191022170525789.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这时候点哪里都可以，也可以查到值，终于解决了我的问题。最后附一张完成图<br><img src="https://img-blog.csdnimg.cn/20191123092316185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
]]></content>
      <tags>
        <tag>echarts</tag>
      </tags>
  </entry>
  <entry>
    <title>正则表达式2019手机号验证</title>
    <url>/2020/04/27/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F2019%E6%89%8B%E6%9C%BA%E5%8F%B7%E9%AA%8C%E8%AF%81/</url>
    <content><![CDATA[<h1 id="19年11月手机号正则验证表达式"><a href="#19年11月手机号正则验证表达式" class="headerlink" title="19年11月手机号正则验证表达式"></a>19年11月手机号正则验证表达式</h1><p><strong>手机号段有没有是从 找号网 找的 链接：</strong><a href="https://www.zhaohaowang.com/?utm_source=baidu&utm_medium=sem#-19050904152-bja10" target="_blank" rel="noopener">https://www.zhaohaowang.com/?utm_source=baidu&amp;utm_medium=sem#-19050904152-bja10</a>.</p>
<h2 id="放出正则："><a href="#放出正则：" class="headerlink" title="放出正则："></a>放出正则：</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">^<span class="number">0</span>?(<span class="number">13</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">14</span>[<span class="number">57</span>]|<span class="number">15</span>[<span class="number">012356789</span>]|<span class="number">18</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">14</span>[<span class="number">57</span>]|<span class="number">16</span>[<span class="number">6</span>]|<span class="number">19</span>[<span class="number">189</span>]|<span class="number">17</span>[<span class="number">0123456789</span>])[<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">8</span>&#125;$</span><br></pre></td></tr></table></figure>
<p>可以在这里在线测试:<a href="http://tool.oschina.net/regex/" target="_blank" rel="noopener">http://tool.oschina.net/regex/</a></p>
<a id="more"></a>]]></content>
      <tags>
        <tag>正则表达式</tag>
      </tags>
  </entry>
  <entry>
    <title>记一次MUI开发中遇到的多层list显示的问题</title>
    <url>/2020/04/27/%E8%AE%B0%E4%B8%80%E6%AC%A1MUI%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E5%A4%9A%E5%B1%82list%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>记一次MUI开发中遇到的多层list显示的问题</p>
<p>#mui  </p>
<h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><p>mui开发中需要用到多级list，期望做成如下图，层级关系如下<img src="https://img-blog.csdnimg.cn/20190821132438607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>开始尝试了官方的折叠面板，发现实现不了多级，去Dcloud社区查找，有人说官方的库支持最多2级。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p><strong>万能的github</strong></p>
<p><a href="https://github.com/jinzhaoyoujiu/MUI-Tree" target="_blank" rel="noopener">https://github.com/jinzhaoyoujiu/MUI-Tree</a></p>
<p>过程如下：<br><strong>1.引入上方的css与js</strong><br><strong>2.ajax请求数据</strong><br><img src="https://img-blog.csdnimg.cn/201908211335309.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>3.效果图</strong><br><img src="https://img-blog.csdnimg.cn/20190821133852677.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNjcwNzAz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>4.颜色css在accordion.js文件colors中修改</strong><br><strong>5.贴一下我返回的json</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">		[&#123;</span><br><span class="line"><span class="string">"children"</span>: [&#123;</span><br><span class="line">	<span class="string">"children"</span>: [&#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"国电页面空白"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"101d0c4f9dc21000"</span></span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"新画面1301"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"102602c647421000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"大同"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892ba3821000"</span></span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"测试"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"101bdff334c21000"</span></span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"测试1"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"101d0a5569021000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"太原"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021000"</span></span><br><span class="line">	&#125;],</span><br><span class="line">	<span class="string">"name"</span>: <span class="string">"山西"</span>,</span><br><span class="line">	<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021001"</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">	<span class="string">"children"</span>: [&#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"石家庄1"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"10262f044a421000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"石家庄"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021002"</span></span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"张家口画面3742"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"10262f1ed4821000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"张家口"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021003"</span></span><br><span class="line">	&#125;],</span><br><span class="line">	<span class="string">"name"</span>: <span class="string">"河北"</span>,</span><br><span class="line">	<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021004"</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">	<span class="string">"name"</span>: <span class="string">"新画面4041"</span>,</span><br><span class="line">	<span class="string">"id"</span>: <span class="string">"102742ef22421000"</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="string">"name"</span>: <span class="string">"项目名称0"</span>,</span><br><span class="line"><span class="string">"id"</span>: <span class="string">"fold_1027892dbb021005"</span>&#125;, &#123;</span><br><span class="line"><span class="string">"children"</span>: [&#123;</span><br><span class="line">	<span class="string">"children"</span>: [&#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"children"</span>: [&#123;</span><br><span class="line">				<span class="string">"name"</span>: <span class="string">"新画面9888"</span>,</span><br><span class="line">				<span class="string">"id"</span>: <span class="string">"10277fa74c421000"</span></span><br><span class="line">			&#125;],</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"沁阳"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021006"</span></span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			<span class="string">"children"</span>: [&#123;</span><br><span class="line">				<span class="string">"name"</span>: <span class="string">"新画面9889"</span>,</span><br><span class="line">				<span class="string">"id"</span>: <span class="string">"10277faae0021000"</span></span><br><span class="line">			&#125;],</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"洛阳"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021007"</span></span><br><span class="line">		&#125;, &#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"新画面9761"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"1026309ece421000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"驻马店"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021008"</span></span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		<span class="string">"children"</span>: [&#123;</span><br><span class="line">			<span class="string">"name"</span>: <span class="string">"新画面9766"</span>,</span><br><span class="line">			<span class="string">"id"</span>: <span class="string">"102630d513821000"</span></span><br><span class="line">		&#125;],</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"郑州"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"fold_1027892dbb021009"</span></span><br><span class="line">	&#125;, &#123;</span><br><span class="line">		<span class="string">"name"</span>: <span class="string">"新画面9767"</span>,</span><br><span class="line">		<span class="string">"id"</span>: <span class="string">"102630d933021000"</span></span><br><span class="line">	&#125;],</span><br><span class="line">	<span class="string">"name"</span>: <span class="string">"河南"</span>,</span><br><span class="line">	<span class="string">"id"</span>: <span class="string">"fold_1027892dbb02100a"</span></span><br><span class="line">&#125;],</span><br><span class="line"><span class="string">"name"</span>: <span class="string">"新项目"</span>,</span><br><span class="line"><span class="string">"id"</span>: <span class="string">"fold_1027892dbb02100b"</span>&#125;]</span><br></pre></td></tr></table></figure>

<h1 id="end"><a href="#end" class="headerlink" title="end"></a>end</h1>]]></content>
      <tags>
        <tag>mui</tag>
      </tags>
  </entry>
</search>
